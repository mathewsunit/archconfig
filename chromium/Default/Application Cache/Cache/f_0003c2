var $Qf="cj-delete-recording",aRf="cj-finish-recording",bRf="docs-conjure-playback-bar-overflow-button",cRf="docs-conjure-recording-bar-cancel-button",dRf="docs-conjure-recording-bar-no-thanks-button",eRf="docs-conjure-recording-bar-start-button",fRf="docs-conjure-recording-bar-stop-button",gRf="get-user-media",hRf="not-recording",iRf="playback",L6="recording";sq.prototype.ina=Y(2,v(Oh));function jRf(a){Q(this,a,0,-1,null,null)}H(jRf,P);jRf.prototype.getSeconds=function(){return S(this,1,0)};
var kRf=[[1]];function lRf(a){Q(this,a,0,-1,null,kRf)}H(lRf,P);function mRf(a){Q(this,a,0,-1,null,null)}H(mRf,P);function nRf(a){Q(this,a,0,-1,null,null)}H(nRf,P);function oRf(a){Q(this,a,0,-1,null,null)}H(oRf,P);function pRf(a){Q(this,a,0,-1,null,null)}H(pRf,P);function qRf(a){Q(this,a,0,-1,null,null)}H(qRf,P);function rRf(a){Q(this,a,0,-1,null,null)}H(rRf,P);function sRf(a){Q(this,a,0,-1,null,null)}H(sRf,P);function tRf(a){Q(this,a,0,-1,null,null)}H(tRf,P);function uRf(a,b){$q(a,1,b)}
function vRf(a){Q(this,a,0,-1,null,null)}H(vRf,P);function wRf(a){var b=Math.floor(a/1E3);a=b%60;var c=Math.floor(b/60)%60;b=Math.floor(b/3600);return(b?b+":":"")+(c?9<c?c:"0"+c:"00")+":"+(9<a?a:"0"+a)}function xRf(a){return a.getSeconds()+S(a,2,0)/1E9};function yRf(a){this.C=a}function zRf(a){R(a,1);return new yRf(R(a,1))}function ARf(a){var b=new nRf;T(b,1,a.C);return b}yRf.prototype.eb=function(a){return this.C==a.C};yRf.prototype.value=v("C");function BRf(a,b,c){this.H=a;this.F=b;this.C=c}
function CRf(a,b){function c(a,b){for(var c=0;c<b.length;c++)h.setUint8(a+c,b.charCodeAt(c))}var d=new Uint8Array(b),e=new ArrayBuffer(b.byteLength+44),f=new Uint8Array(e),h=new DataView(e);c(0,"RIFF");h.setUint32(4,36+b.byteLength*a.C,!0);c(8,"WAVE");c(12,"fmt ");h.setUint32(16,16,!0);h.setUint16(20,1,!0);h.setUint16(22,a.F,!0);h.setUint32(24,a.H,!0);h.setUint32(28,a.H*a.C,!0);h.setUint16(32,a.F*a.C,!0);h.setUint16(34,8*a.C,!0);c(36,wd);h.setUint32(40,d.length,!0);for(a=0;a<d.length;a++)f[a+44]=
d[a];return e}function DRf(){this.C=this.F=this.H=null}DRf.prototype.build=function(){return new BRf(this.H,this.F,this.C)};function ERf(a,b){a.H=b;return a}function FRf(a,b){a.F=b;return a}function GRf(a,b){a.C=b;return a};function HRf(a){switch(fCa(a,kRf[0])){case 1:return a=Yq(a,mRf,1),GRf(FRf(ERf(new DRf,R(a,1)),R(a,2)),R(a,3)).build();default:throw Error("NC`"+fCa(a,kRf[0]));}};function IRf(a,b,c){this.F=a;this.C=b;this.H=c}function JRf(a){return KRf(LRf(MRf(new NRf,zRf(Yq(a,nRf,1))),xRf(Yq(Yq(a,pRf,2),jRf,2))),HRf(Yq(a,lRf,5))).build()}function NRf(){this.C=this.F=this.H=null}NRf.prototype.build=function(){return new IRf(this.H,this.F,this.C)};function MRf(a,b){a.H=b;return a}function LRf(a,b){a.F=b;return a}function KRf(a,b){a.C=b;return a};function ORf(a,b,c,d){d=void 0===d?null:d;I.call(this);this.N=a;this.O=b;this.ga=c;this.H="not recording";this.L=this.R=this.J=this.F=this.C=null;this.Ba=d}H(ORf,I);
ORf.prototype.tm=function(){var a=this;return this.H==L6?Promise.resolve(void 0):Jxa().mediaDevices.getUserMedia({audio:!0}).then(function(b){a.J=b.getAudioTracks()[0];a.R=new Date;a.W=Op();a.C=new AudioContext;a.L=GRf(FRf(ERf(new DRf,a.C.sampleRate),1),2).build();a.H=L6;a.F=a.C.createScriptProcessor(16384,1,1);a.F.onaudioprocess=function(c){c=c.inputBuffer.getChannelData(0);var d=new ArrayBuffer(2*c.length);d=new DataView(d);for(var e=0,f=0;e<c.length;e++,f+=2)d.setInt16(f,32767*Math.max(-1,Math.min(1,
c[e])),!0);c=new Uint8Array(d.buffer);"ended"==a.J.readyState?(a.W.resolve(a.N.J.execute(a.O,a.L,c)),a.F.disconnect(a.C.destination)):b.active?a.H==L6&&a.N.F.execute(a.O,c):(PRf(a),a.F.disconnect(a.C.destination))};a.C.createMediaStreamSource(b).connect(a.F);a.F.connect(a.C.destination);return a.N.L.execute(a.ga,a.O,a.R,a.L).catch(function(b){a.Ba&&a.Ba.log(Error("OC`"+b));return Promise.reject("start-upload")})}).catch(function(b){a.Ba&&a.Ba.log(Error("PC`"+b));return Promise.reject(gRf)})};
function PRf(a){if(a.H!=L6){var b=Error("QC");a.Ba&&a.Ba.log(b);return Promise.reject(b)}QRf(a);return Promise.resolve(a.W.qf)}function QRf(a){a.J&&a.J.stop();a.H="not recording"}ORf.prototype.cancel=function(){QRf(this);this.F.disconnect(this.C.destination)};ORf.prototype.getState=v("H");function RRf(a){this.C=a}function SRf(){this.C=null;this.F=al}SRf.prototype.build=function(){return new RRf(this.C)};function TRf(a){var b=new SRf;b.C=a;return b};function URf(a){this.C=a};function VRf(a,b){I.call(this);this.F=a;this.C=b;this.ha(this.C)}H(VRf,I);function WRf(a,b,c,d){d=void 0===d?null:d;return b.F.execute().then(function(b){var e=TRf(b);e.F=L6;return new VRf(e.build(),new ORf(a,b,c,d))})};function XRf(a,b,c,d){this.ga=a;this.H=b;this.ia=c;this.L=d;this.R=this.C=null;this.W=this.N=this.J=this.F=0;this.O=new Us}XRf.prototype.play=function(a){a=void 0===a?0:a;YRf(this)&&(this.H.resume(),a&&this.stop());return!YRf(this)||a?(this.J+=a,this.F+=a,this.W=a,ZRf(this,$Rf(this,a))):Promise.resolve()};
function aSf(a){YRf(a)||(a.C=a.H.createBufferSource(),a.C.buffer=a.R,a.C.connect(a.H.destination),a.C.onended=function(){a.J>=a.L.C?(a.O.dispatchEvent("cj-audio-playback-stopped"),a.N=0,a.J=0,a.F=0,a.C=null):a.C&&aSf(a)},a.J=a.F,a.C.start(),ZRf(a,$Rf(a,a.F)))}function $Rf(a,b){a=a.L.C;a=Math.min(a,b+10);var c={};c.start=b;c.chunkDuration=a-b;return c}
function ZRf(a,b){return 0>=b.chunkDuration?Promise.resolve():a.ga.download(a.ia,a.L.F,b.start,b.start+b.chunkDuration).then(function(c){c=CRf(a.L.H,c);a.H.decodeAudioData(c).then(function(c){a.R=c;a.F+=b.chunkDuration;a.J=b.start;a.C||(a.N=a.H.currentTime,aSf(a))})})}XRf.prototype.stop=function(){this.C&&this.C.stop();this.F=this.J=this.N=0;this.C=null};function YRf(a){return a.H.state==r_d};function bSf(a,b,c){this.F=c;this.C=new XRf(a,new AudioContext,b,c)};function cSf(a,b,c,d){d=void 0===d?null:d;I.call(this);this.H=a;this.J=b;this.L=c;this.F=null;this.C=[];this.Ba=d}H(cSf,I);function dSf(a){return a.J.H.execute().then(function(b){a.F=null;a.C.length=0;b.C.forEach(function(b){a.C.push(new bSf(a.H,a.L,b))})})}function eSf(a){return WRf(a.H,a.J,a.L,a.Ba).then(function(b){a.F=b;a.ha(a.F);return a.F})}function fSf(a){a.F.C.cancel();return a.H.C.execute().then(function(){a.J.C.execute(a.F.F.C);a.F=null})}
function gSf(a,b){if(-1==hSf(a,b)){var c=Error("RC");a.Ba&&a.Ba.log(c);return Promise.reject(c)}return a.J.C.execute(b.F).then(function(){var c=hSf(a,b);-1!=c&&Tn(a.C,c);return Promise.resolve()})}function hSf(a,b){for(var c=0;c<a.C.length;c++)if(a.C[c].F==b)return c;return-1};function iSf(){var a=void 0===a?null:a;this.F=null;a&&(KG(a,AG),this.F=a);this.C=[]}iSf.prototype.size=function(){return this.C.map(function(a){return a.buffer.byteLength}).reduce(function(a,b){return a+b},0)};function jSf(a){var b=zG(a.size());return 0<=KG(b,a.F)}
function kSf(a){jSf(a);var b=tCb(zG(a.size()),a.F);b=rCb(HG(a.F,b));for(var c=[],d=0;d<b;){var e=a.C.shift(),f=e.buffer.byteLength;if(d+f>b){var h=f-(d+f-b);a.C.unshift(e.slice(h,f));e=e.slice(0,h)}c.push(e);d+=e.buffer.byteLength}return c}function lSf(a){var b=a.C;a.C=[];return b}function mSf(a,b){return new Blob(a,{type:b})};function nSf(a){N.call(this,a)}H(nSf,N);function oSf(a,b,c,d){this.Xqa=a;this.CRa=b;this.WYa=c;this.P9=d}function pSf(a){return(a=qSf(n6b,a.Xqa))?parseInt(a,10):null}oSf.prototype.getError=function(){return 500<=this.P9?"Qd":"Sd"};function rSf(a){if(!a)return al;switch(a){case ic:return ic;case tdc:return tdc;case "cancelled":return"cancelled";default:throw Error("SC`"+a);}}function qSf(a,b){for(var c in b)if(c.toLowerCase()===a.toLowerCase())return b[c];return null};function sSf(a,b){I.call(this);this.O=a||0;this.H=b||10;if(this.O>this.H)throw Error("TC");this.C=new gCe;this.F=new Xs;this.bl=0;this.L=null;this.a4()}H(sSf,I);z=sSf.prototype;z.Hg=function(){var a=dm();if(!(null!=this.L&&a-this.L<this.bl)){for(var b;0<this.C.Cd()&&(b=hCe(this.C),!this.Lra(b));)this.a4();!b&&this.Cd()<this.H&&(b=this.kja());b&&(this.L=a,this.F.add(b));return b}};z.tU=function(a){this.F.remove(a);this.Lra(a)&&this.Cd()<this.H?this.C.C.push(a):tSf(a)};
z.a4=function(){for(var a=this.C;this.Cd()<this.O;){var b=this.kja();a.C.push(b)}for(;this.Cd()>this.H&&0<this.C.Cd();)tSf(hCe(a))};z.kja=function(){return{}};function tSf(a){if(typeof a.dispose==df)a.dispose();else for(var b in a)a[b]=null}z.Lra=function(a){return typeof a.N9a==df?a.N9a():!0};z.contains=function(a){return this.C.contains(a)||this.F.contains(a)};z.Cd=function(){return this.C.Cd()+this.F.Cd()};z.isEmpty=function(){return this.C.isEmpty()&&this.F.isEmpty()};
z.va=function(){sSf.aa.va.call(this);if(0<this.F.Cd())throw Error("UC");delete this.F;for(var a=this.C;!a.isEmpty();)tSf(hCe(a));delete this.C};function uSf(a,b){this.N=void 0;this.J=new Mhe;sSf.call(this,a,b)}H(uSf,sSf);z=uSf.prototype;z.Hg=function(a,b){if(!a)return(a=uSf.aa.Hg.call(this))&&this.bl&&(this.N=Ml.setTimeout(F(this.B9,this),this.bl)),a;Khe(this.J,E(b)?b:100,a);this.B9()};z.B9=function(){for(var a=this.J;0<a.Cd();){var b=this.Hg();if(b)a.remove().apply(this,[b]);else break}};z.tU=function(a){uSf.aa.tU.call(this,a);this.B9()};z.a4=function(){uSf.aa.a4.call(this);this.B9()};
z.va=function(){uSf.aa.va.call(this);Ml.clearTimeout(this.N);Pn(this.J.C);this.J=null};function vSf(a,b,c,d){this.R=a;this.W=!!d;uSf.call(this,b,c)}H(vSf,uSf);vSf.prototype.kja=function(){var a=new sq,b=this.R;b&&b.forEach(function(b,d){a.headers.set(d,b)});this.W&&a.Es(!0);return a};vSf.prototype.Lra=function(a){return!a.isDisposed()&&!a.lG()};function wSf(a,b,c,d,e,f){O.call(this);this.H=E(a)?a:1;this.J=E(e)?Math.max(0,e):0;this.L=!!f;this.F=new vSf(b,c,d,f);this.C=new qq;this.za=new hq(this)}H(wSf,O);var xSf=[Qi,gd,Lj,Me,cc,Nra];z=wSf.prototype;z.send=function(a,b,c,d,e,f,h,k,l,m){if(this.C.get(a))throw Error("VC");b=new ySf(b,F(this.krb,this,a),c,d,e,h,E(k)?k:this.H,l,E(m)?m:this.L);this.C.set(a,b);a=F(this.Msb,this,a);this.F.Hg(a,f);return b};
z.abort=function(a,b){var c=this.C.get(a);if(c){var d=c.gea;c.pr=!0;b&&(d&&(this.za.Zb(d,xSf,c.Fva),Yp(d,Qi,function(){var a=this.F;a.F.remove(d)&&a.tU(d)},!1,this)),this.C.remove(a));d&&d.abort()}};z.Msb=function(a,b){var c=this.C.get(a);if(c&&!c.gea){this.za.ea(b,xSf,c.Fva);SAa(b,this.J);var d=c.Ju();b.H=d;b.Es(c.ina());c.gea=b;this.dispatchEvent(new zSf(Qi,this,a,b));ASf(this,a,b);c.pr&&b.abort()}else a=this.F,a.F.remove(b)&&a.tU(b)};
z.krb=function(a,b){var c=b.target;switch(b.type){case Qi:ASf(this,a,c);break;case gd:a:{var d=this.C.get(a);if(7==c.VF()||c.ik()||d.t4>d.wna)if(this.dispatchEvent(new zSf(gd,this,a,c)),d&&(d.yKa=!0,d.gCa)){a=d.gCa.call(c,b);break a}a=null}return a;case Lj:this.dispatchEvent(new zSf(Lj,this,a,c));break;case Nra:case Me:b=this.C.get(a);b.t4>b.wna&&this.dispatchEvent(new zSf(Me,this,a,c));break;case cc:this.dispatchEvent(new zSf(cc,this,a,c))}return null};
function ASf(a,b,c){var d=a.C.get(b);!d||d.yKa||d.t4>d.wna?(d&&(a.za.Zb(c,xSf,d.Fva),a.C.remove(b)),a=a.F,a.F.remove(c)&&a.tU(c)):(d.t4++,c.send(d.dc(),d.VJ(),d.Vc(),d.Hx()))}z.va=function(){wSf.aa.va.call(this);this.F.dispose();this.F=null;this.za.dispose();this.za=null;this.C.pn();this.C=null};function zSf(a,b,c,d){N.call(this,a,b);this.id=c;this.gea=d}H(zSf,N);
function ySf(a,b,c,d,e,f,h,k,l){this.J=a;this.F=c||eb;this.ke=d;this.C=e||null;this.wna=E(h)?h:1;this.t4=0;this.pr=this.yKa=!1;this.Fva=b;this.gCa=f;this.H=k||"";this.L=!!l;this.gea=null}z=ySf.prototype;z.dc=v("J");z.VJ=v("F");z.Vc=v(gg);z.Hx=v("C");z.ina=v("L");z.Ju=v("H");function BSf(a,b,c,d,e,f){this.C=a;this.F=b;this.H=c;this.re=function(a){a=a.target;for(var b={},c=a.getAllResponseHeaders().split(aa),e=0;e<c.length;e++)if(!mo(c[e])){var f=Nqc(c[e],Ea,2);b[f[0]]=b[f[0]]?b[f[0]]+(ua+f[1]):f[1]}c=a.Od();e=qSf(q6b,b);a=new oSf(b,a.kj(),rSf(e),c);d(a)};this.J=e;this.L=f}BSf.prototype.execute=function(){this.J.send(this.L,this.H,Eb,this.F,this.C,void 0,this.re)};function CSf(){this.W={};this.J=this.F=this.re=this.L=null}CSf.prototype.build=function(){this.J||(this.J=(new Date).getTime().toString());this.F||(this.F=new wSf(6,void 0,0,1,void 0,!0));var a=this.C(this.W);return new BSf(a,this.H(),this.L,this.re,this.F,this.J)};function DSf(a,b){a.L=b;return a}function ESf(a,b){a.re=b;return a}function FSf(a,b){a.F=b;return a};function GSf(){CSf.call(this)}H(GSf,CSf);GSf.prototype.C=function(a){a=Object.assign({},a);a[o6b]=Jc;return a};GSf.prototype.H=y(null);function HSf(){CSf.call(this);this.R=this.O=null}H(HSf,CSf);function ISf(a,b){a.O=b;return a}HSf.prototype.tH=function(a){this.R=a;return this};HSf.prototype.C=function(a){a=Object.assign({},a||{});a[o6b]=unc;a["X-Goog-Upload-Offset"]=this.R.toString();return a};HSf.prototype.H=v("O");function JSf(){HSf.call(this);this.N=null}H(JSf,HSf);function KSf(a,b){a.N=b;return a}JSf.prototype.C=function(a){a=JSf.aa.C.call(this,a);a[o6b]="upload, finalize";a["X-Goog-Upload-Header-Content-Length"]=this.N.toString();return a};function LSf(){CSf.call(this);this.N=null}H(LSf,CSf);function MSf(a,b){a.N=b;return a}LSf.prototype.C=function(a){a=Object.assign({},a);a[o6b]=Fj;a[p6b]="resumable";return a};LSf.prototype.H=v("N");function NSf(a,b,c){b=void 0===b?null:b;c=void 0===c?null:c;O.call(this);this.ga=a;this.N=b;this.W=c;this.C="not-started";this.J=!1;this.F=xm(0);this.L=null;this.H=new iSf;this.R=Op();this.O=Op()}H(NSf,O);
NSf.prototype.start=function(a,b){function c(a){var b=pSf(a);b=!isNaN(b)&&0<b;var c=!!qSf(r6b,a.Xqa);200==a.P9&&a.WYa==ic&&c&&b?(b=d.H,c=zG(pSf(a)),KG(c,AG),b.F=c,d.L=qSf(r6b,a.Xqa),e.resolve(a.CRa),a=!0):(OSf(d,"Pd",e),a=!1);return a}var d=this;this.C=Fj;var e=Op();PSf(this,MSf(ESf(DSf(FSf(new LSf,this.N),a),function(a){return QSf(d,a,c,e)}),b).build());return e.qf};NSf.prototype.upload=function(a){this.C=unc;RSf(this,a)};function SSf(a,b){a.C="finalize";RSf(a,b);return a.R.qf}
NSf.prototype.cancel=function(){this.C=Jc;this.J||TSf(this);return this.O.qf};NSf.prototype.resume=function(){return Lp()};function RSf(a,b){a.H.C.push(b);if(b=a.W)b=xm(a.H.size()),b=0<=Wta(b,a.W);b&&a.dispatchEvent("Rd");USf(a)}
function USf(a){if(!a.J){if("finalize"==a.C){var b=mSf(lSf(a.H),a.ga),c=function(c){var d=b.size;200==c.P9&&c.WYa==tdc?(a.F=a.F.add(xm(d)),a.R.resolve(c.CRa),c=!0):(OSf(a,"Od",a.R),c=!1);return c};PSf(a,KSf(ISf(ESf(DSf(FSf(new JSf,a.N),a.L),function(b){return QSf(a,b,c)}),b).tH(a.F),a.F.add(xm(b.size))).build())}if(jSf(a.H)){var d=mSf(kSf(a.H),a.ga),e=function(){a.F=a.F.add(xm(d.size));return!0};PSf(a,ISf(ESf(DSf(FSf(new HSf,a.N),a.L),function(b){return QSf(a,b,e)}),d).tH(a.F).build())}}}
function PSf(a,b){a.J=!0;b.execute()}function TSf(a){function b(){a.O.resolve();return!0}PSf(a,ESf(DSf(FSf(new GSf,a.N),a.L),function(c){return QSf(a,c,b,a.O)}).build())}function QSf(a,b,c,d){a.J=!1;400<=b.P9?OSf(a,b.getError(),d):c(b)&&a.C==unc?USf(a):a.C==Jc&&TSf(a)}function OSf(a,b,c){a.C=Me;c?c.reject(b):a.dispatchEvent(new nSf(b))};function VSf(a,b,c){b=void 0===b?null:b;c=void 0===c?xm(1831E4):c;I.call(this);this.C=null;this.H=a;this.J=b;this.F=c}H(VSf,I);VSf.prototype.start=function(a,b,c){this.C=new NSf(this.H,this.J,this.F);this.ha(this.C);return Promise.resolve(this.C.start(Ko(a,{authuser:ZQ()}),WSf(b,c)).then(zl()))};
function WSf(a,b){a=[{external:{name:Re}},{inlined:{name:"conjure-request",content:b.Ra(),contentType:vk}},{inlined:{name:kOd,content:a,contentType:vk}}];return jq({protocolVersion:"0.8",createSessionRequest:{fields:a}})}VSf.prototype.upload=function(a){this.C.upload(a)};
function XSf(a,b){return Promise.resolve(SSf(a.C,b).then(function(a){a:{a=JSON.parse(a);for(var b=["sessionStatus","additionalInfo",vnc,"completionInfo","customerSpecificInfo","response"],c=0;c<b.length;c++)if(b[c]in a)a=a[b[c]];else{a="";break a}}return cr(vRf,a)}))}VSf.prototype.cancel=function(){return Promise.resolve(this.C.cancel())};VSf.prototype.resume=function(a){return Promise.resolve(this.C.resume(a))};function YSf(a){I.call(this);this.C=a}H(YSf,I);YSf.prototype.execute=function(){return Promise.resolve(this.C.cancel())};function ZSf(a){I.call(this);this.C=a}H(ZSf,I);ZSf.prototype.execute=function(a,b){this.C.upload(b)};function $Sf(a){this.H=a}$Sf.prototype.C=function(){var a=this.H.Uaa("/upload/download/voice-notes/audio/document");a.ua=Zda;return a};$Sf.prototype.F=function(a){return a.F};function aTf(a,b){I.call(this);this.C=new U1(6E4,2,eb,new $Sf(a),100);this.ha(this.C);this.Ba=b||null}H(aTf,I);aTf.prototype.execute=function(a,b,c,d){var e=this,f=[kOd,a,"recordingId",b.value(),"beginTimeOffsetSeconds",c,"endTimeOffsetSeconds",d];return Promise.resolve(Qp(V1(this.C,f).then(yl()),function(a){ZLe(e.Ba,"downloadAudio",f,a);throw a;}))};function bTf(a){I.call(this);this.C=a}H(bTf,I);bTf.prototype.execute=function(a,b,c){return XSf(this.C,c).then(function(c){return LRf(KRf(MRf(new NRf,a),b),xRf(Yq(c,jRf,1))).build()})};function cTf(a){I.call(this);this.C=a}H(cTf,I);cTf.prototype.execute=function(a,b,c,d){var e=new qRf,f=new X4d;wY(f,1,Math.floor(c.getTime()/1E3),0);c=1E6*c.getMilliseconds();wY(f,2,c,0);$q(e,1,f);f=new sRf;b=ARf(b);$q(f,1,b);$q(f,2,e);e=new mRf;T(e,1,d.H);T(e,2,d.F);T(e,3,d.C);d=new lRf;NY(d,1,kRf[0],e);$q(f,3,d);return this.C.start("/upload/voice-notes/audio/document",a,f)};function dTf(a,b,c){I.call(this);this.L=new cTf(a);this.ha(this.L);this.F=new ZSf(a);this.ha(this.F);this.J=new bTf(a);this.ha(this.J);this.H=new aTf(b,c);this.ha(this.H);this.C=new YSf(a);this.ha(this.C)}H(dTf,I);dTf.prototype.download=function(a,b,c,d){return this.H.execute(a,b,c,d)};function eTf(a,b){I.call(this);this.C=new U1(1E4,2,Eb,new W1(a,"/voice-notes/recordings/create"));this.ha(this.C);this.Ba=b||null}H(eTf,I);eTf.prototype.execute=function(){var a=this,b=[FZd,(new rRf).Ra()];return Promise.resolve(Qp(V1(this.C,b).then(function(a){a=L1d(a[0]);return Promise.resolve(zRf(Yq(a,nRf,1)))}),function(c){ZLe(a.Ba,"createRecording",b,c);return Promise.reject(c)}))};function fTf(a,b){I.call(this);this.C=new U1(1E4,2,eb,new W1(a,"/voice-notes/recordings/list"));this.ha(this.C);this.Ba=b||null}H(fTf,I);fTf.prototype.execute=function(){var a=this;return Promise.resolve(Qp(V1(this.C,[]).then(function(a){a=L1d(a[0]);return Promise.resolve(gTf(a))}),function(b){ZLe(a.Ba,"listRecordings",[],b);return Promise.reject(b)}))};
function gTf(a){var b=[];Zq(a,oRf,1).forEach(function(a){var c=R(a,3);if(1===c){c=TRf(zRf(Yq(a,nRf,1)));a:switch(R(a,3)){case 1:a=L6;break a;case 2:a=Epa;break a;default:a=al}c.F=a;c.build()}else 2===c&&b.push(JRf(a))});return new URf(b)};function hTf(a,b){I.call(this);this.C=new U1(1E4,2,Eb,new W1(a,"/voice-notes/recordings/trash"));this.ha(this.C);this.Ba=b||null}H(hTf,I);hTf.prototype.execute=function(a){var b=this,c=new tRf;uRf(c,ARf(a));var d=[FZd,c.Ra()];return Promise.resolve(Qp(V1(this.C,d).then(function(){return Promise.resolve()}),function(a){ZLe(b.Ba,"deleteRecording",d,a);return Promise.reject(a)}))};function iTf(a,b){I.call(this);this.F=new eTf(a,b);this.ha(this.F);this.H=new fTf(a,b);this.ha(this.H);this.C=new hTf(a,b);this.ha(this.C)}H(iTf,I);function jTf(){this.ke=this.C=null}H(jTf,I);function kTf(a,b){a.C&&a.C.Ua()&&a.ke==b||(a.C=new WQ(b),a.ke=b,a.C.Ya(),a.C.xa(!0),a.ha(a.C))};function lTf(a,b,c){b=c||b;a='<div class="docs-conjure-playback-bar" role="group" aria-label="'+$C("Player");a=a+'"><div class="docs-conjure-playback-bar-button docs-conjure-playback-bar-play-button" role="button" tabindex="0" title="'+$C("Play");a=a+'"></div><div class="docs-conjure-playback-bar-button docs-conjure-playback-bar-pause-button" role="button" tabindex="0" title="'+$C("Pause");a=a+'"></div><div class="docs-conjure-playback-bar-timestamps"></div><div class="docs-conjure-playback-bar-flex-separator"></div>'+
Z(mQ({Wb:WC(bRf),content:XC(""+Z(NQ({icon:"docs-icon-img docs-icon-overflow-three-dots"},b))),style:4,title:WC(mca)},b));return W(a+'<input type="range" class="docs-conjure-playback-bar-seek-bar" value="0" max="100" min="0"/></div>')};function mTf(a,b,c,d){SC.call(this,d);this.na=a;this.Ga=b;this.W=new DP(void 0,new VQ);this.ha(this.W);this.R=new DP(void 0,new VQ);this.ha(this.R);this.H=this.Ca=null;this.F=!1;this.C=null;this.J=new dq(50);this.L=0;this.O=new xP;this.ha(this.O);this.wa=new HP(void 0,this.O,new VQ);this.Ka(this.wa);this.ga=new lP("Delete audio");this.O.Ka(this.ga,!0);this.ia=new lP("Hide audio notes");this.O.Ka(this.ia,!0);this.Ja=c;this.Fb=new mt(this);this.N=0}H(mTf,SC);z=mTf.prototype;
z.qa=function(){mTf.aa.qa.call(this);var a=cD(lTf,void 0,void 0,this.oa());this.Db(a)};
z.Fa=function(){var a=this;mTf.aa.Fa.call(this);var b=this.rb("docs-conjure-playback-bar-play-button");this.W.bb(b);this.na.C(this.W,U.c1);b=this.rb("docs-conjure-playback-bar-pause-button");this.R.bb(b);this.na.C(this.R,U.a1);this.Ca=this.rb("docs-conjure-playback-bar-timestamps");this.H=this.rb("docs-conjure-playback-bar-seek-bar");this.H.dir=zh;b=this.rb(bRf);this.wa.bb(b);nTf(this);this.Fb.Tb(U.c1,jt,this.CCb).Tb(U.a1,jt,this.TMa);this.Ha().ea(this.J,wk,function(){var b=a.C,d=b.H.currentTime-
b.N;oTf(a,b.N?b.W+d:0)}).He(this.H,Sv,function(b){a.J.stop();a.L=b.offsetX/b.target.offsetWidth*a.C.L.C;oTf(a,a.L);a.F&&(a.C.stop(),pTf(a,a.L))}).ea(this.ga,gc,this.K$a).ea(this.ia,gc,this.fyb)};z.fyb=function(){this.F&&(this.F=!1,this.C.stop());U.VH.gb()};function qTf(a,b){a.C=b;a.N=1E3*a.C.L.C;a.H.setAttribute("max",a.N.toString());oTf(a,0);Vs(a.C.O,function(){a.F=!1;nTf(a);a.J.dispatchEvent(wk);a.J.stop()})}
function oTf(a,b){os(a.Ca,wRf(1E3*b)+" / "+wRf(a.N));a.H.value=1E3*b;b=1E3*b/a.N;var c=Dv(a.H,"background-image");c=c.includes("from")?c.replace(/from\(/g,"color-stop("+b+ua):c.includes("to(")?c.replace(/to\(/g,"color-stop("+b+ua):c.replace(/\d\.\d*/g,b.toString());a.H.setAttribute(Ij,"background-image: "+c)}z.CCb=function(){this.F=!0;pTf(this,this.L);nTf(this)};z.TMa=function(){var a=this.C;a.C&&!YRf(a)&&a.H.suspend();this.F=!1;nTf(this)};
function pTf(a,b){a.C.play(Math.floor(b)).then(function(){a.J.enabled||a.J.start();a.L=0}).catch(function(){kTf(a.Ja,"Unfortunately, the recording cannot be played back at this time.");a.TMa()})}z.K$a=function(){var a=dQ(dQ(new ZP,{key:Fd,caption:Xa},!0),gQ,!1,!0);a=E6d(this.Ga,"Delete audio recording?","",this.PLb,this,a,this.oa());lQ(a,Fd);return a};z.PLb=function(){this.F&&(this.C.stop(),this.F=!1);this.dispatchEvent($Qf)};function nTf(a){a.W.xa(!a.F);a.R.xa(a.F)};function rTf(){var a='<div class="docs-conjure-recording-bar" role="group" aria-label="'+$C("Recorder");a=a+'"><div class="docs-conjure-recording-bar-mic-button" role="button" disabled="true" title="'+$C("Record");a=a+'"></div><div class="docs-conjure-recording-bar-timestamp"></div><div class="docs-conjure-recording-bar-text"></div><div class="docs-conjure-recording-bar-flex-separator"></div>'+Z(PQ({enabled:!0,Gn:WC(dRf),Zo:XC(A4b)}));a+=Z(PQ({enabled:!0,Gn:WC(cRf),Zo:XC(kK)}));a+=Z(PQ({enabled:!0,
Gn:WC(eRf),Zo:XC("Start recording")}));a+=Z(PQ({enabled:!0,Gn:WC(fRf),Zo:XC("End recording")}));return W(a+Fa)};function sTf(a,b,c,d,e){SC.call(this,e);this.ia=a;this.ga=b;this.F=hRf;this.J=new DP(void 0,new VQ);this.ha(this.J);this.C=new DP(void 0,new VQ);this.ha(this.C);this.H=new DP(void 0,new VQ);this.ha(this.H);this.L=new DP(void 0,new VQ);this.ha(this.L);this.wa=this.R=this.O=null;this.W=new dq(500);this.N=null;this.na=d;this.Ca=c;this.Fb=new mt(this)}H(sTf,SC);z=sTf.prototype;z.qa=function(){sTf.aa.qa.call(this);var a=cD(rTf,void 0,void 0,this.oa());this.Db(a)};
z.Fa=function(){var a=this;sTf.aa.Fa.call(this);var b=this.rb(eRf);this.ga.C(this.J,U.b1);this.J.bb(b);this.J.xa(!0);b=this.rb(fRf);this.ga.C(this.C,U.d1);this.C.bb(b);this.C.xa(!1);this.C.Xa(!1);b=this.rb(dRf);this.ga.C(this.H,U.VH);this.H.bb(b);this.H.xa(!0);b=this.rb(cRf);this.L.bb(b);this.L.xa(!1);this.O=this.rb("docs-conjure-recording-bar-text");this.R=this.rb("docs-conjure-recording-bar-mic-button");this.wa=this.rb("docs-conjure-recording-bar-timestamp");tTf(this);uTf(this);this.Fb.Tb(U.b1,
jt,this.gFb).Tb(U.d1,jt,this.iFb);this.Ha().He(b,Sv,this.P$a).ea(this.W,wk,function(){tTf(a)})};z.gFb=function(){var a=this;return this.F!=hRf?Promise.reject():eSf(this.ia).then(function(b){a.N=b;b=a.N.C.tm();a.W.start();a.F=L6;uTf(a);return b.then(function(){a.C.Xa(!0)})}).catch(function(b){b==gRf?kTf(a.na,"Google Docs can't turn on your microphone. In your browser settings, please grant Docs permission to access your microphone."):kTf(a.na,"Audio Notes is currently unavailable.");return Promise.reject(b)})};
z.iFb=function(){var a=this;if(this.F!=L6||!this.C.isEnabled())return Promise.reject();this.W.stop();this.C.Xa(!1);qv(this.C.Za(),"save-state");os(this.O,"Saving\u2026");wv(this.R,L6,hRf);return PRf(this.N.C).then(function(b){var c=a.ia;c.F=null;c.C.push(new bSf(c.H,c.L,b));a.F=hRf;uTf(a);a.dispatchEvent(aRf)}).catch(function(b){os(a.O,"");kTf(a.na,"Unfortunately, the recording failed to save.");a.C.Xa(!0);sv(a.C.Za(),"save-state");return Promise.reject(b)})};
z.P$a=function(){var a=dQ(dQ(new ZP,{key:"discard",caption:"Discard"},!0),{key:Jc,caption:"Keep recording"},!1,!0);a=E6d(this.Ca,"Cancel and discard unsaved audio?","",this.QLb,this,a);lQ(a,"discard");return a};z.QLb=function(){this.W.stop();this.F=hRf;uTf(this);fSf(this.ia).then(function(){U.VH.gb()})};
function uTf(a){a.F==L6?(wv(a.R,hRf,L6),a.C.xa(!0),a.J.xa(!1),a.H.xa(!1),a.L.xa(!0),os(a.O,"Recording...")):a.F==hRf&&(wv(a.R,L6,hRf),a.C.xa(!1),a.J.xa(!0),a.H.xa(!0),a.L.xa(!1),os(a.O,"Before recording, ask for permission from everyone in the room"),os(a.wa,wRf(0)))}function tTf(a){os(a.wa,wRf(a.N?new Date-a.N.C.R:0))};function vTf(a,b,c,d){SC.call(this,d);this.L=new jTf;this.ha(this.L);this.H=new sTf(a,b,c,this.L);this.Ka(this.H);this.C=new mTf(b,c,this.L);this.Ka(this.C);this.F=null;this.J=a}H(vTf,SC);z=vTf.prototype;z.qa=function(){vTf.aa.qa.call(this);this.F=cs(Va);this.F.dir=this.Ue()?gj:zh;qv(this.F,"docs-conjure-audio-bar");qv(this.F,fe);Lt(this.F,kf);$N(this.F,U.vS.tf());this.Db(this.F);this.H.qa();this.H.xa(!1);this.F.appendChild(this.H.X());this.C.qa();this.C.xa(!1);this.F.appendChild(this.C.X())};
z.Fa=function(){var a=this;vTf.aa.Fa.call(this);this.Ha().ea(this.H,aRf,function(){qTf(a.C,a.J.C.slice().slice().pop().C);wTf(a,iRf)}).ea(this.C,$Qf,function(){xTf(a,a.C.C.L)})};z.bLb=function(){var a=this;dSf(this.J).then(function(){0<a.J.C.slice().length?(qTf(a.C,a.J.C.slice().slice().pop().C),wTf(a,iRf)):wTf(a,L6)})};function xTf(a,b){gSf(a.J,b).then(function(){wTf(a,L6);U.VH.gb()}).catch(function(){kTf(a.L,"Unable to delete recording.")})}z.$e=function(){this.xa(!1)};z.OLb=function(){this.xa(!0)};
function wTf(a,b){b==L6?(a.H.xa(!0),a.C.xa(!1)):b==iRf&&(a.C.xa(!0),a.H.xa(!1))};yN(kYd);function yTf(){I.call(this)}H(yTf,RD);z=yTf.prototype;z.Nmb=function(){return vTf};z.wnb=function(){return VSf};z.Zpb=function(){return dTf};z.gob=function(){return iTf};z.Spb=function(){return cSf};wN(UD(kYd),yTf);VD(SD(),kYd);xN();
