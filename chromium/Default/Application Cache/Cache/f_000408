BNa.prototype.Ht=NO(35,g("C"));fz.prototype.Ht=NO(34,function(){return U(this,2)});function kZd(a){a.O=!0;return a}function B3(a){Vf(this,a,0,-1,null,null)}x(B3,Uf);B3.prototype.Ht=function(){return F(this,1)};B3.prototype.VX=function(){return F(this,2)};function lZd(){try{return!!ka.localStorage.getItem("docs-uoo")}catch(a){return!0}}function mZd(a){a?ka.localStorage.setItem("docs-wownoi","true"):ka.localStorage.removeItem("docs-wownoi")}
function nZd(a){a?ka.localStorage.setItem("docs-rops","true"):ka.localStorage.removeItem("docs-rops")}function oZd(a){a?ka.localStorage.setItem("docs-ropd","true"):ka.localStorage.removeItem("docs-ropd")}function pZd(a){Vf(this,a,0,-1,null,null)}x(pZd,Uf);pZd.prototype.X5=function(){return F(this,1)};pZd.prototype.VX=function(){return F(this,2)};
function qZd(){return P('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password-protected account. Enabling offline access on public or shared computers can put your data at risk, as others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')};function rZd(a){et.call(this);this.O=a;dq(this,"Turn on offline for all files?");a=new lq;qq(a,{key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);qq(a,{key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);oq(this,a);nq(this,!1);this.Ai=this.Or=!0;a=new GR;eq(this,Dq(WAc(a,qZd)));this.C=this.F=null}x(rZd,et);
rZd.prototype.Ia=function(){rZd.oa.Ia.call(this);zq(this,this.D.Tu);this.F=Fe(this.qa(),"docs-offline-optindialog-disclaimer-link");this.C=Fe(this.qa(),"docs-offline-optindialog-disclaimer");this.getHandler().R(this,"dialogselect",this.J).Pc(this.F,"click",this.L)};rZd.prototype.J=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key&&this.O();this.setVisible(!1)};rZd.prototype.L=function(){Nh(this.F,"docs-offline-optindialog-disclaimer-link-disabled");L(this.C,!0);this.C.focus()};function sZd(a,b,c){E.call(this);this.F=a;this.xa=b;this.O=c;this.V=new Tp(this.O,PAa(),this);this.H=yf();this.J=this.C=null;this.L=!1}x(sZd,E);sZd.prototype.start=function(){var a=this;this.D().then(function(){a.L=!0;a.H.resolve(null);a.V.R(Xxa,a.$).R(Kxa,a.ma).R(Oxa,a.D)},function(b){a.H.resolve(Ze(b))})};function tZd(a){return a.H.C.then(function(a){if(null!=a)throw a;})}sZd.prototype.$=function(a){a=bg(a,Vxa,1);for(var b=0;b<a.length;b++){var c=a[b].Dz(aya);if(c&&F(c,1)==this.F){this.D();break}}};
sZd.prototype.ma=function(a){F(a,1)==this.F&&this.D()};sZd.prototype.D=function(){var a=this;return uZd(this.xa,[this.F]).then(function(b){var c=!1,d=!1;1==b.length&&(d=b[0],c=F(d,7),d=F(d,8));var e=b=!1;a.L&&(b=a.C!=c,e=a.J!=d);a.C=c;a.J=d;b&&a.dispatchEvent("Df");e&&a.dispatchEvent("Ef")})};function vZd(){E.call(this);this.C=3;this.D=null;this.H=!1;this.F=yf()}x(vZd,E);function wZd(a){return a.F.C.then(function(a){if(null!=a)throw a;})}vZd.prototype.xB=g("D");function xZd(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.F.resolve(null);a.dispatchEvent("Ff")}function yZd(a){if(!a.D)return!1;a=a.D.Ht();return 1==a||6==a}vZd.prototype.X5=g("C");function C3(a){Vf(this,a,0,-1,null,null)}x(C3,Uf);C3.prototype.getType=function(){return F(this,1)};C3.prototype.setType=function(a){G(this,1,a)};function zZd(a){Vf(this,a,0,-1,null,null)}x(zZd,Uf);zZd.prototype.getType=function(){return F(this,1)};zZd.prototype.setType=function(a){G(this,1,a)};zZd.prototype.bK=function(){return ag(this,AZd,2)};function AZd(a){Vf(this,a,0,-1,null,null)}x(AZd,Uf);AZd.prototype.getType=function(){return F(this,1)};AZd.prototype.setType=function(a){G(this,1,a)};
AZd.prototype.getErrorMessage=function(){return F(this,2)};function BZd(a){Vf(this,a,0,-1,CZd,null)}x(BZd,Uf);var CZd=[1];function DZd(a){Vf(this,a,0,-1,EZd,null)}x(DZd,Uf);var EZd=[1];function FZd(a){Vf(this,a,0,-1,null,null)}x(FZd,Uf);FZd.prototype.H=function(){return ag(this,pZd,1)};function GZd(a){Vf(this,a,0,-1,null,null)}x(GZd,Uf);GZd.prototype.xB=function(){return ag(this,B3,1)};function HZd(a){Vf(this,a,0,-1,null,null)}x(HZd,Uf);function IZd(a){Vf(this,a,0,-1,null,null)}x(IZd,Uf);
IZd.prototype.xB=function(){return ag(this,B3,1)};function JZd(a){Vf(this,a,0,-1,null,null)}x(JZd,Uf);JZd.prototype.getId=function(){return F(this,1)};JZd.prototype.tf=function(a){G(this,1,a)};JZd.prototype.getTitle=function(){return F(this,2)};JZd.prototype.Xp=function(){return F(this,3)};function KZd(a){Vf(this,a,0,-1,LZd,null)}x(KZd,Uf);var LZd=[1];function MZd(a){Vf(this,a,0,-1,null,null)}x(MZd,Uf);MZd.prototype.getId=function(){return F(this,1)};MZd.prototype.tf=function(a){G(this,1,a)};
MZd.prototype.getType=function(){return F(this,2)};MZd.prototype.setType=function(a){G(this,2,a)};function NZd(a,b,c,d,e,f,h,k,l){A.call(this);this.Da=a;this.Fa=b;this.Ma=c;this.H=d;this.D=e;this.Va=k;this.xa=new up;this.La=new Uh(this);this.Aa(this.La);this.Ka=a.C;this.$=f;this.Na=h;this.J=this.C=null;this.F=l;this.O=cu(this.F,"Document now available offline",void 0,!1,3E3,!1,void 0,!0);this.ma=cu(this.F,"Document no longer available offline",void 0,!1,3E3,!1,void 0,!0);this.V=cu(this.F,"Could not make the document available offline.",void 0,!1,3E3,!1,void 0,!0);this.L=cu(this.F,"Could not enable offline access.",
void 0,!1,3E3,!1,void 0,!0)}x(NZd,A);p=NZd.prototype;p.init=function(){var a=this;xf([wZd(this.D),tZd(this.H)]).then(function(){K.Wv.subscribe("action",a.xHa,a);a.La.R(a.H,"Df",a.txb).R(a.H,"Ef",a.Nvb).R(a.D,"Ff",a.Pvb);OZd(a);K.Wv.setVisible(Pf)},function(b){a.Va.Zc(Ze(b))})};p.xHa=function(){PZd(this)};
function PZd(a){return Wwa(a.xa).then(function(){if(np()){if(1==a.D.C)return QZd(a);yZd(a.D)?RZd(a):SZd(a,a.L)}else{a.J&&a.J.setVisible(!1);var b=qq(qq(new lq,{key:"ok",caption:"Install"},!0),tq,!1,!0),c=a.$,d=kAc("Extension needed","To make this document available offline, install the Docs Offline Chrome extension in your browser.",a.P7a,null,a,void 0,b,void 0);c.Bh(d);d.focus();a.J=d;zq(a.J,b.Tu)}})}
p.P7a=function(){var a=this;this.xa.install().then(function(){return PZd(a)},function(b){b=Ze(b);a.Va.Zc(b);zwa(b)})};function QZd(a){var b=!K.Wv.Jd();return Af((new sf(function(b){var c=a.Ka;Vl(c.C,8192)?b():(Xn(c.J,c.xa,Se(b)),c.create())})).then(function(){var c=new MZd;c.tf(a.Da.qc());c.setType(a.Fa);return TZd(a.Ma,[c],b)}),function(b){SZd(a,a.V);a.Va.log(Ze(b))})}function UZd(a){Af(VZd(a.Na),function(b){a.Va.log(Ze(b))}).then(function(){if(1==a.D.C)return QZd(a);SZd(a,a.L)})}
function RZd(a){a.C||(a.C=new rZd(function(){return UZd(a)}),a.$.Bh(a.C),a.La.R(a.C,"hide",function(){a.C=null}),a.C.setVisible(!0))}p.txb=function(){OZd(this);WZd(this);this.H.C||SZd(this,this.ma)};p.Nvb=function(){WZd(this)};p.Pvb=function(){OZd(this)};function WZd(a){var b;if(b=1==a.D.C)b=a.H.J;b&&a.H.C&&SZd(a,a.O)}function SZd(a,b){b.Mb()||b.render();a.O.setVisible(!1);a.ma.setVisible(!1);a.V.setVisible(!1);a.L.setVisible(!1);b.setVisible(!0)}
function OZd(a){K.Wv.Oa(1==a.D.C||yZd(a.D));K.Wv.tc(a.H.C)}p.Ha=function(){K.Wv.unsubscribe("action",this.xHa,this);this.C&&(kG(this.$,this.C),C(this.C));this.J&&(kG(this.$,this.J),C(this.J));NZd.oa.Ha.call(this);ds(this.F,this.O);ds(this.F,this.ma);ds(this.F,this.V);ds(this.F,this.L);Cb(this.O,this.ma,this.V,this.L)};function XZd(a,b){this.j9=a;this.iN=b};function YZd(a,b,c,d,e){A.call(this);this.Va=a;this.H=b;this.O=d?d:"DefaultLocalStoreSessionId";this.L=e||new sAa;this.J=c;this.D=null;this.F=new Vn;this.Aa(this.F);this.C=ZZd(this)}x(YZd,A);function ZZd(a){a.C&&C(a.C);var b=zh(H(),"lssv");return new xAa(a.Va,a.O,0,a.a5a.bind(a),b,!0,a.J,new kza)}function $Zd(a){if(a.D)return a.D;a.D=a_d(a);return Af(a.D,function(b){a.S$();throw b;})}
function b_d(a){return $Zd(a).then(function(a){return(new sf(function(b,d){Ava(a.qQ(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==Ah(H(),"docs-offline-lsuid")?new XZd(a,b[0]):null}.bind(this))}.bind(a))}p=YZd.prototype;p.get=function(){return b_d(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.j9})};function a_d(a){return(new sf(function(a,c){Ef(this.C.create(this.S$.bind(this)),a,c)}.bind(a))).then(a.Ftb.bind(a))}
p.Ftb=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.H){var c=new cya(a,this.H);this.Aa(c)}jua(a);Wn(this.F,a.C.C.H,function(){b.S$()});Wn(this.F,a.C.O,function(){b.S$()});return a};p.S$=function(){C(this.C);this.C=ZZd(this);this.D=null};p.a5a=function(a){return Jya(this.L,a)};p.Ha=function(){C(this.C);YZd.oa.Ha.call(this)};function c_d(a){this.D=a}c_d.prototype.C=function(a){var b=new sLc;uLc(b,a.serialize());this.D.log(b);this.D.H()};function d_d(a){this.D=a}d_d.prototype.C=function(a){var b=new sLc;uLc(b,a.serialize());this.D.log(b);return new sf(function(a,b){this.D.flush(a,b)}.bind(this))};function e_d(a){this.D=a}e_d.prototype.C=function(a,b,c){b_d(this.D).then(v(function(d){d?(new Nbc(d.j9,"offline",null)).C(a,b,c):b()},this))};function f_d(a,b,c){a='<div><div id="docs-offline-optinpromo-title">You\'re ready</div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline. Sweet.</div><div class="docs-offline-optinpromo-confirm-buttons">'+O(br({id:"docs-offline-optinpromo-confirm-close",content:Rq("Close")},c||b));return P(a+"</div></div>")};function g_d(a){E.call(this);this.tb=a||Rd();this.La=new Uh(this);this.Aa(this.La);this.C=new xr(a);this.C.Zz(!1);bl(this.C.D,!1);this.C.Ed("docs-offline-optinpromo");this.C.render();a=this.C.Pa();ze(a,!0);Fh(a,"dialog");Gh(a,"labelledby","docs-offline-optinpromo-title");Gh(a,"describedby","docs-offline-optinpromo-description");this.Aa(this.C);this.L=new cr(null);this.Aa(this.L);this.J=new cr(null);this.Aa(this.J);this.H=new cr(null);this.Aa(this.H);this.O=this.F=this.D=null;h_d(this,i_d)}x(g_d,E);
function i_d(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title">Work offline and don\'t miss a beat</div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline or your Internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn more</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password-protected account. Enabling offline access on public or shared computers can put your data at risk, as others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br>'+
O(br({id:"docs-offline-optinpromo-optin",content:Rq("Turn on offline access"),style:2},b));a+=O(br({id:"docs-offline-optinpromo-decline",content:Rq("No, thanks"),style:0},b));return P(a+"</div>")}
function h_d(a,b){var c=N(b);a.C.setContent(c);switch(b){case i_d:a.La.R(a.C,"show",a.Ixb);b=a.tb.getElement("docs-offline-optinpromo-optin");a.L.gb(b);a.La.Pc(a.L,"action",v(a.pwb,a));b=a.tb.getElement("docs-offline-optinpromo-decline");a.J.gb(b);a.La.Pc(a.J,"action",v(a.ynb,a));a.D=a.tb.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.tb.getElement("docs-offline-optinpromo-link-show-less");a.O=a.tb.getElement("docs-offline-optinpromo-learn-more-container");a.La.R(a.D,"click",v(a.VQa,
a,!0)).R(a.F,"click",v(a.VQa,a,!1));break;case f_d:b=a.tb.getElement("docs-offline-optinpromo-confirm-close");a.H.gb(b);a.La.Pc(a.H,"action",v(a.show,a,!1));a.C.Pa().focus();break;default:throw Error("Cannot handle state "+b);}a.tb.getElement("docs-offline-optinpromo-title");a.tb.getElement("docs-offline-optinpromo-description")}p=g_d.prototype;p.VQa=function(a){L(this.D,!a);L(this.F,a);L(this.O,a);(a?this.F:this.D).focus();return!1};p.pwb=function(){this.dispatchEvent(new D("Hf"))};p.ynb=function(){this.dispatchEvent(new D("If"))};
p.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new D("Jf"))};p.Ixb=function(){this.C.Pa().focus();this.dispatchEvent(new D("Gf"))};function j_d(a,b){this.L=a;this.H=b}function k_d(a){return l_d(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){var a=new B3;G(a,1,1);return a},a.J.bind(a))}j_d.prototype.J=function(a){if(a instanceof B3)return a;if(a instanceof Error)throw a;throw Error(a);};
function l_d(a){var b=new B3;return a.L.get().then(function(a){var c=a.D;switch(c){case 3:case 2:return vf();case 4:return G(b,1,3),a=a.VX(),G(b,2,a),wf(b);case 1:return G(b,1,2),wf(b);case 5:return G(b,1,4),wf(b);default:throw Error("Unexpected enabled state: "+c);}})}j_d.prototype.D=function(){return(new sf(function(a,b){this.H.C(a,b)}.bind(this))).then(function(a){if(a)return vf();a=new B3;G(a,1,5);return wf(a)})};j_d.prototype.C=function(){if(np())return vf();var a=new B3;G(a,1,6);return wf(a)};
j_d.prototype.F=function(){var a=zh(H(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new sf(function(b,c){$Ta(function(d,e){e>a?b():(d=new B3,G(d,1,7),G(d,3,a),G(d,4,e),c(d))},c)})};function m_d(a,b,c){this.D=a;this.C=c||null}m_d.prototype.VX=g("C");function n_d(a,b){this.C=a;this.Va=b}n_d.prototype.get=function(){return b_d(this.C).then(function(a){return a?new m_d(1,a.iN.getId(),a.iN.DF(),o_d(this)):$Zd(this.C).then(function(a){return(new sf(function(b,d){Ava(a.qQ(),b,d)})).then(function(a){if(a.length)if(1==a.length)a=a[0],a=new m_d(4,a.getId(),a.DF());else throw Error("More than one user in store: "+a.length);else a=lZd()?new m_d(2):qya()?new m_d(5):new m_d(3);return a}.bind(this))}.bind(this))}.bind(this))};
function o_d(a){a=new GUa(a.Va);var b=H(),c=I(b,"docs-dbsw"),d=[];c&&I(b,"docs-offline-esmst")&&d.push(new Ru("metadata-sync",0,!0,new Qu(1,Up(),Tu("metadata"),3E5,!0,!0)));c&&I(b,"docs-offline-esbst")&&d.push(new Ru("service-worker-update",0,!0,new Qu(2,YAa(),Tu("service_worker_update"),3E5,!0,!1)),VTa());I(b,"docs-offline-edswut")&&d.push(new Ru("drive-service-worker",0,!0,new Qu(2,ZAa(Ah(H(),"drdn"),"/drive/serviceworker/update",!0),Tu("drive_service_worker_update"),3E5,!0,!0)));I(b,"docs-offline-eshcst")&&
d.push(new Ru("homescreen-cello-sync",zh(H(),"docs-offline-scstpim"),!0,new Qu(2,ZAa(ol(ka.location.href),"/document/backgroundsync"),new Su,3E5,!0,!0)));I(b,"docs-offline-esdcst")&&d.push(new Ru("drive-cello-sync",zh(H(),"docs-offline-scstpim"),!0,new Qu(2,ZAa(Ah(H(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new Su,3E5,!0,!0)));c&&I(b,"docs-offline-eslcst")&&d.push(new Ru("local-changes-sync",0,!1,new Qu(1,Up(),Tu("local_changes_sync"),3E5,!0,!1)));c&&I(b,"docs-offline-esast")&&!I(b,"docs-offline-eoasks")&&
d.push(new Ru("auto-sync",zh(H(),"docs-offline-sastpim"),!1,new Qu(1,Up(),Tu("auto_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-eswst")&&d.push(new Ru("webfonts-sync",0,!0,new Qu(1,Up(),Tu("webfonts_sync"),3E5,!0,!0)));c&&I(b,"docs-offline-esist")&&d.push(new Ru("impression-sync",0,!1,new Qu(1,Up(),Tu("impressionSync"),3E5,!0,!1)));c&&I(b,"docs-offline-esddt")&&d.push(new Ru("document-deletion",0,!1,new Qu(1,Up(),Tu("doc_deletion"),3E5,!1,!1)));c&&I(b,"docs-offline-esuuct")&&d.push(new Ru("update-unsaved-changes",
0,!1,new Qu(2,YAa(),Tu("update_unsaved_changes"),3E5,!1,!1)));c&&I(b,"docs-offline-esct")&&d.push(new Ru("cleanup-task",0,!1,new Qu(2,YAa(),Tu("cleanup"),3E5,!1,!1)));c&&I(b,"docs-offline-esrt")&&d.push(new Ru("report-task",0,!1,new Qu(2,YAa(),Tu("report"),3E5,!1,!1)));c&&I(b,"docs-offline-eskst")&&d.push(new Ru("kix-snapshot",0,!1,new Qu(1,ZAa(ol(ka.location.href),"/document/snapshot.js"),new Su,3E5,!1,!1)));c&&I(b,"docs-offline-esost")&&d.push(new Ru("sync-objects-sync",0,!0,new Qu(1,Up(),Tu("sync_objects_sync"),
3E5,!0,!0)));b=[];for(c=0;c<d.length;c++){var e=d[c];e.C&&b.push(e)}for(d=0;d<b.length;d++)if(c=oUa(a,b[d].getId()),!c||!Zf(c,5,!1))return!1;return!0};function p_d(a){this.C=a}function q_d(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Fa()});a.C.setItem("optInLog",fm(c))}function r_d(){var a=ka.localStorage;if(!a)throw Error("Local storage not available");return new p_d(a)};function s_d(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function t_d(a){return $Zd(a.H).then(function(a){return u_d(this,a).then(function(){var b=LAa();if(!b)throw Error("Missing user info for enabling offline in flags.");return v_d(this,a,b)}.bind(this))}.bind(a)).then(function(a){return w_d(this,a)}.bind(a))}function u_d(a,b){return(new sf(function(a,d){Ava(b.qQ(),a,d)}.bind(a))).then(function(a){if(a&&a.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function v_d(a,b,c){var d=new Wta(F(c,1),!0);Xta(d,c.DF());Yta(d,F(c,3));Zta(d,!!F(c,4));$ta(d,!!F(c,6));d.setProperty("optInReasons",a.C);return(new sf(function(a,c){b.write([d],a,c)}.bind(a))).then(function(){return d})}
function w_d(a,b){q_d(r_d(),b.DF()||"");ka.localStorage&&(ka.localStorage.removeItem("docs-uoo"),ka.localStorage.setItem("docs-oiouid",b.getId()));b=new Ep;var c=new Lxa;gg(b,Mxa,c);bya(a.F,b);b=new up;var d=new MAa(b);return Swa(b).then(function(){return new sf(function(a,b){d.C(a,b)})}.bind(a)).then(function(a){var b=NAa(),c=new Tka;this.C[0]&&G(c,1,vva(this.C[0]));G(c,10,a);G(c,11,b);a=this.D.wC(81E3,0);b=HO(a);cg(b,34,c);this.D.yC(a)}.bind(a))};function x_d(a,b,c,d,e,f,h){A.call(this);this.tb=h||Rd();this.D=a;this.Va=b;this.J=c;this.Jb=d;a=new aBa;this.Aa(a);this.F=new Gp(a,PAa());this.Aa(this.F);this.Ra=new Tp(this.F,PAa(),this);this.Aa(this.Ra);this.Na=new Tp(this.F,null,this);this.Aa(this.Na);this.$=new YZd(this.Va,this.F,e,"OfflinePromoControllerLockSessionId");this.Aa(this.$);e=new n_d(this.$,this.Va);a=new up;this.Eb=new j_d(e,new MAa(a));e=this.$;b=H();a=I(b,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;b=Ah(b,"gaia_session_id");
a=new NLc(306,b||null,a,!(ya(ka)&&ka.window==ka)||!ka.document||!ka.document.documentElement,!0);b=new d_d(a);e=Pf&&lza&&(SAa()||TAa())?new e_d(e):new Mbc;e=new Kbc(b,null,e);a=new c_d(a);b=Qza();e=Fbc(Ebc(kZd(Cbc(Bbc(new Abc,e),a)),b),84).build();a=ybc(e.xC());b=(new Jbc(!1)).get();a.H=b;this.Ua=e;this.Ua.XG();this.mb=cCa(this.tb);this.C=null;this.La=new Uh(this);this.Aa(this.La);this.Da=new dj(this.Rqb,6E4,this);this.Aa(this.Da);this.sb=!1;this.O=this.Fa=this.L=null;this.H=new Xe("docs-offline-promo-reload-butter-dismisss");
this.Aa(this.H);this.H.setProperty("label","Dismiss");this.H.Oa(!0);this.H.Qb(Pa,this.Ynb.bind(this));this.V=hp.getInstance();this.ma=this.Ma=this.xa=this.yb=!1;this.Ka=Pf&&fj("56.0.2924.87");this.Sa=!1;this.zb=f}x(x_d,A);p=x_d.prototype;p.init=function(){var a=this;np()&&(y_d(this),z_d(this),D3(this).then(function(){a.F.connect();a.La.R(a.D,"r",a.Sqb).R(a.D,"q",a.gkb).R(a.mb,"change",a.S7a);a.Ra.R(Mxa,a.R7a);a.Na.R(Mxa,a.Q7a).R(Qxa,a.ujb)},function(b){a.Va.Zc(Ze(b))}))};
function D3(a){return k_d(a.Eb).then(function(b){var c=1==b.Ht()&&!a.xa,d=a.D.Xi(),e;if(!(e=a.ma)&&(e=!lZd())){try{var f=!!ka.localStorage.getItem("docs-urop")}catch(k){f=!0}e=!f}f=I(H(),"promo_show_on_load");if((c=c&&a.Ka&&e)&&!(c=!d)){try{var h=!!ka.localStorage.getItem("docs-wownoi")}catch(k){h=!1}c=h&&!f}h=c;a.yb||(h?a.C||(a.C=new g_d(a.tb),a.Aa(a.C),a.La.R(a.C,"Hf",a.qwb).R(a.C,"If",a.mwb).R(a.C,"Jf",a.Z5a),a.C.show(!0),A_d(a)):a.C&&a.C.show(!1));if(a.Jb){if(2==b.Ht()||d||h)B_d(a);else if(a.Fa&&
!hg(b,a.Fa)&&B_d(a),null==a.L){h=C_d(b);if(!a.Sa)switch(b.Ht()){case 1:break;case 3:D_d(a,"Offline ineligible, other user enabled");break;case 7:D_d(a,"Offline ineligible, insufficient disk space");break;case 5:D_d(a,"Offline ineligible, policy disallows");break;case 6:D_d(a,"Offline ineligible, no extension");break;case 4:D_d(a,"Offline ineligible, invalid db state");break;default:D_d(a,"Offline ineligible, unknown reason")}b=1==b.Ht()&&a.Ka?kp(h,"Turn on...",a.gyb.bind(a),"info",!1):jp(h,"info",
!1);a.L=a.V.postMessage(b)}d&&a.xa&&!a.Ma?null==a.O&&(d=kp("Reload to start editing even when offline.","Reload",a.hyb.bind(a),"info",!0,void 0,a.H),a.O=a.V.postMessage(d)):null!=a.O&&(ip(a.V,a.O),a.O=null)}})}p.Sqb=function(){this.Da.start();D3(this)};p.Rqb=function(){pya()||mZd(!0)};p.gkb=function(){this.Da.stop();y_d(this);z_d(this);D3(this)};
p.rwb=function(){if(this.D.Xi()){var a=Ah(H(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit "+('<a href="//'+Q(a)+'">'+(O(a)+("</a> to create and edit without interruption. "+('<a href="'+Q(Zq("https://support.google.com/docs/answer/2375012?hl=en-GB"))+'">Learn more</a>'))));b=P(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=oDa("Your documents are syncing",Dq(b),void 0,
this,"Got it!","docs-offline-welcomepromo",this.tb);Nh(b.Rq(),"docs-offline-welcomepromo-bg");this.Aa(b);this.C&&this.C.show(!1)}else this.yb=!0,h_d(this.C,f_d);this.xa=!0;D3(this)};p.R7a=function(){this.xa=!0;D3(this)};p.Q7a=function(){D3(this)};p.ujb=function(){this.ma=!1;D3(this)};
p.owb=function(a){this.Va.Zc(a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=cu(this.zb,"Failed to turn on offline access. Please try again later.",this.tb);a.D=!0;a.render();a.setVisible(!0);this.Aa(a)};p.qwb=function(){this.J.Wb(2054);mZd(!1);t_d(new s_d(this.$,this.F,this.Ua)).then(v(this.rwb,this),v(this.owb,this))};
p.mwb=function(){this.D.Xi()?this.J.Wb(2055):oZd(!0);mZd(!1);ka.localStorage.setItem("docs-urop","true");this.ma=!1;D3(this);var a=new Ep,b=new Pxa;gg(a,Qxa,b);bya(this.F,a)};
function C_d(a){switch(a.Ht()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(a.VX()+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync has been disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function D_d(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";ym(a.Va,Error("Offline editing disabled: "+b),c);a.Sa=!0}function B_d(a){null!=a.L&&(ip(a.V,a.L),a.L=null,a.Fa=null)}p.gyb=function(){this.ma=!0;D3(this)};p.hyb=function(){ka.location.reload()};p.Ynb=function(){this.Ma=!0};p.S7a=function(){A_d(this)};p.Z5a=function(){C(this.C);this.C=null};function A_d(a){!a.sb&&a.C&&"hidden"!=a.mb.getState()&&(a.D.Xi()?a.J.Wb(2847):nZd(!0),a.sb=!0)}
function y_d(a){try{var b=!!ka.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.Xi()&&(nZd(!1),a.J.Wb(2847))}function z_d(a){try{var b=!!ka.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.Xi()&&(oZd(!1),a.J.Wb(2055))};function E_d(a,b,c,d,e,f,h){A.call(this);this.D=b;this.J=yf();F_d(this);this.F=this.H=null;this.L=a;this.C=c;this.La=new Uh(this);this.Aa(this.La);this.O=d;this.V=e;this.ma=f;this.$=h}x(E_d,A);p=E_d.prototype;p.start=function(){var a=this;G_d(this.D).then(function(b){b.connect();a.J.resolve(b)});H_d(this);this.La.R(this.L,"q",this.lkb)};
function VZd(a){if(2!=a.C.X5())throw Error("Cannot enable offline when it is not disabled. Current state:"+a.C.X5());xZd(a.C,4);return I_d(a.D,10).then(function(a){var b=a.Ht();return vf().then(function(){return 1==b||2==b?E3(this,1):E3(this,2)}.bind(this)).then(function(){return a})}.bind(a))}p.xB=function(){return this.D.xB()};
function H_d(a){Af(a.D.H().then(function(a){switch(a.X5()){case 1:return J_d(this.D).then(function(){return E3(this,1)}.bind(this)).then(function(){K_d(this)}.bind(this));case 2:return E3(this,2);case 4:return L_d(this,a.VX());case 3:return a=F(a,3),null!=a?M_d(this,a):E3(this,2);case 5:return N_d(this)}}.bind(a)),function(a){this.C.F.resolve(a)}.bind(a))}
p.UCb=function(a){1==this.C.C&&!this.C.H&&0==F(a,2)&&Af(this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("Ff")}.bind(this)),ba().bind(this))};function L_d(a){return E3(a,2)}function M_d(a,b){return a.V?I_d(a.D,b).then(function(a){switch(a.Ht()){case 1:return E3(this,1);case 2:return E3(this,1);default:return E3(this,2)}}.bind(a)):vf()}
function N_d(a){return a.ma?I_d(a.D,2).then(function(a){switch(a.Ht()){case 1:case 2:return E3(this,1);default:return E3(this,2)}}.bind(a)):vf()}function F_d(a){a.J.C.then(function(a){this.H=new Tp(a,"user_"+this.O,this);this.Aa(this.H);this.F=new Tp(a,null,this);this.Aa(this.F);this.H.R(Mxa,this.U7a).R(Oxa,this.Evb).R(Sxa,this.UCb);this.F.R(Mxa,this.T7a).R(Oxa,this.tjb)}.bind(a))}p.U7a=function(){Af(E3(this,1),ba().bind(this))};p.Evb=function(){Af(E3(this,2),ba().bind(this))};p.T7a=function(){O_d(this)};
p.tjb=function(){O_d(this)};function E3(a,b){return a.xB().then(function(a){xZd(this.C,b,a)}.bind(a)).then(function(){return this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("Ff")}.bind(this))}.bind(a)).then(ba().bind(a))}function O_d(a){a.xB().then(function(a){var b=this.C;b.D=a;b.dispatchEvent("Ff")}.bind(a))}p.lkb=function(){K_d(this)};function K_d(a){a.$&&1==a.C.C&&Af(P_d(a.D),ba().bind(a))};function Q_d(a){this.D=a}Q_d.prototype.C=g("D");function F3(a,b,c,d){A.call(this);this.F=yf();this.tb=d||Rd();this.La=new Uh(this);this.Aa(this.La);this.J=a;a=new Fl(b);a.dc("ouid",this.J);$Aa()&&a.dc("Debug","true");Ll(a,"cd="+c);if(Kb(a.C))throw Error("Url contains invalid domain: "+b);this.L=Il(Hl(Gl(new Fl,a.H),a.C),a.J).toString();this.C=this.tb.Ca("IFRAME",{style:"display:none"});yd(this.C,sp(a.toString()));this.La.R(Ie(this.tb),"message",this.O);this.tb.Sb().body.appendChild(this.C);this.D=!1}x(F3,A);
function G_d(a){var b=new C3;b.setType(1);return G3(a,b).then(function(a){a=new Gp(new Q_d(a.port),"user_"+this.J);this.Aa(a);return a}.bind(a))}function uZd(a,b){var c=new C3;c.setType(2);var d=new BZd;G(d,1,b||[]);cg(c,2,d);return G3(a,c).then(function(a){return bg(ag(a.response,DZd,3),JZd,1)}.bind(a))}F3.prototype.H=function(){var a=new C3;a.setType(4);return G3(this,a).then(function(a){return ag(a.response,FZd,4).H()}.bind(this))};
F3.prototype.xB=function(){var a=new C3;a.setType(10);return G3(this,a).then(function(a){return ag(a.response,GZd,7).xB()}.bind(this))};function TZd(a,b,c){var d=new C3;d.setType(5);var e=new KZd;dg(e,1,b);G(e,2,c);cg(d,3,e);return G3(a,d).then(ba())}function I_d(a,b){var c=new C3;c.setType(6);var d=new HZd;G(d,1,b);cg(c,4,d);return G3(a,c).then(function(a){return ag(a.response,IZd,5).xB()})}function J_d(a){var b=new C3;b.setType(9);return G3(a,b).then(ba())}
function P_d(a){var b=new C3;b.setType(11);return G3(a,b).then(ba())}
function G3(a,b){return a.F.C.then(function(a){var c=new MessageChannel;a.postMessage(b.Xf(),[c.port2]);var e=yf();c.port1.onmessage=v(function(a){a=new R_d(a);a.response&&a.response.bK()?(a=a.response.bK(),e.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+a.getType()+"): "+a.getErrorMessage()))):e.resolve(a)},this);var f=t(void 0)?void 0:3E4,h=Zi(function(){e.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+f+"ms."))},f);zf(e.C,function(){c.port1.close();
bj(h)});return e.C}.bind(a))}F3.prototype.O=function(a){(a=a.ue)&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.D&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],Bb(this,a.close,a),this.F.resolve(a),this.D=!0),C(this.La))};F3.prototype.Ha=function(){this.tb.vf(this.C);F3.oa.Ha.call(this)};function R_d(a){this.response=a.data?new zZd(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function S_d(a,b,c,d,e,f,h,k,l,m){A.call(this);this.F=Ah(H(),"docs-offline-lsuid");I(H(),"docs-offline-eeooip")&&(c=new x_d(a,b,c,d,h,l,m),this.Aa(c),c.init());this.H=new aBa;this.C=new Gp(this.H,PAa());this.Aa(this.C);this.C.connect();this.D=new vZd;this.Aa(this.D);!I(H(),"docs-offline-eiedp")||I(H(),"docs-isd")&&!I(H(),"docs-offline-esdp")||(c=XAa("/iframeapi",void 0),c=new F3(this.F,c,1),this.Aa(c),a=new E_d(a,c,this.D,this.F,!1,!1,!1),this.Aa(a),a.start(),d=new sZd(e.qc(),c,this.C),this.Aa(d),
d.start(),b=new NZd(e,f,c,d,this.D,k,a,b,l),this.Aa(b),b.init())}x(S_d,A);function V_d(){A.call(this)}x(V_d,Hz);V_d.prototype.C=function(a,b,c,d,e,f,h,k,l){return new S_d(a,b,c,!0,d,e,f,h,k,l)};Vz("offline",V_d);
